{
  "version": "tree-0.1",
  "tree": {
    "id": "App",
    "path": "",
    "children": {
      "ChatDemoStack": {
        "id": "ChatDemoStack",
        "path": "ChatDemoStack",
        "children": {
          "LexAgent": {
            "id": "LexAgent",
            "path": "ChatDemoStack/LexAgent",
            "children": {
              "template": {
                "id": "template",
                "path": "ChatDemoStack/LexAgent/template",
                "children": {
                  "$Mappings": {
                    "id": "$Mappings",
                    "path": "ChatDemoStack/LexAgent/template/$Mappings",
                    "children": {
                      "BucketName": {
                        "id": "BucketName",
                        "path": "ChatDemoStack/LexAgent/template/$Mappings/BucketName",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.CfnMapping",
                          "version": "2.172.0"
                        }
                      },
                      "S3Path": {
                        "id": "S3Path",
                        "path": "ChatDemoStack/LexAgent/template/$Mappings/S3Path",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.CfnMapping",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "constructs.Construct",
                      "version": "10.3.0"
                    }
                  },
                  "ConnectInstanceARN": {
                    "id": "ConnectInstanceARN",
                    "path": "ChatDemoStack/LexAgent/template/ConnectInstanceARN",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnParameter",
                      "version": "2.172.0"
                    }
                  },
                  "ContactFlowName": {
                    "id": "ContactFlowName",
                    "path": "ChatDemoStack/LexAgent/template/ContactFlowName",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnParameter",
                      "version": "2.172.0"
                    }
                  },
                  "BusinessLogicFunctionName": {
                    "id": "BusinessLogicFunctionName",
                    "path": "ChatDemoStack/LexAgent/template/BusinessLogicFunctionName",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnParameter",
                      "version": "2.172.0"
                    }
                  },
                  "BotName": {
                    "id": "BotName",
                    "path": "ChatDemoStack/LexAgent/template/BotName",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnParameter",
                      "version": "2.172.0"
                    }
                  },
                  "DynamoDBTableName": {
                    "id": "DynamoDBTableName",
                    "path": "ChatDemoStack/LexAgent/template/DynamoDBTableName",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnParameter",
                      "version": "2.172.0"
                    }
                  },
                  "$Conditions": {
                    "id": "$Conditions",
                    "path": "ChatDemoStack/LexAgent/template/$Conditions",
                    "constructInfo": {
                      "fqn": "constructs.Construct",
                      "version": "10.3.0"
                    }
                  },
                  "$Rules": {
                    "id": "$Rules",
                    "path": "ChatDemoStack/LexAgent/template/$Rules",
                    "constructInfo": {
                      "fqn": "constructs.Construct",
                      "version": "10.3.0"
                    }
                  },
                  "LexRole": {
                    "id": "LexRole",
                    "path": "ChatDemoStack/LexAgent/template/LexRole",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Version": "2012-10-17",
                          "Statement": [
                            {
                              "Effect": "Allow",
                              "Principal": {
                                "Service": [
                                  "lambda.amazonaws.com",
                                  "lex.amazonaws.com"
                                ]
                              },
                              "Action": [
                                "sts:AssumeRole"
                              ]
                            }
                          ]
                        },
                        "path": "/",
                        "policies": [
                          {
                            "policyDocument": {
                              "Version": "2012-10-17",
                              "Statement": [
                                {
                                  "Effect": "Allow",
                                  "Action": [
                                    "polly:SynthesizeSpeech"
                                  ],
                                  "Resource": [
                                    "*"
                                  ]
                                }
                              ]
                            },
                            "policyName": {
                              "Fn::Join": [
                                "_",
                                [
                                  {
                                    "Ref": "AWS::StackName"
                                  },
                                  "LexPolicy"
                                ]
                              ]
                            }
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  },
                  "LexImportRole": {
                    "id": "LexImportRole",
                    "path": "ChatDemoStack/LexAgent/template/LexImportRole",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Version": "2012-10-17",
                          "Statement": [
                            {
                              "Effect": "Allow",
                              "Principal": {
                                "Service": [
                                  "lambda.amazonaws.com"
                                ]
                              },
                              "Action": [
                                "sts:AssumeRole"
                              ]
                            }
                          ]
                        },
                        "managedPolicyArns": [
                          "arn:aws:iam::aws:policy/AmazonLexFullAccess"
                        ],
                        "path": "/",
                        "policies": [
                          {
                            "policyDocument": {
                              "Version": "2012-10-17",
                              "Statement": [
                                {
                                  "Effect": "Allow",
                                  "Action": [
                                    "lambda:PublishVersion",
                                    "lambda:AddPermission",
                                    "lambda:GetFunction",
                                    "sts:GetCallerIdentity",
                                    "iam:GetRole",
                                    "iam:PassRole"
                                  ],
                                  "Resource": [
                                    {
                                      "Fn::Sub": "arn:aws:lex:${AWS::Region}:${AWS::AccountId}:*"
                                    },
                                    {
                                      "Fn::Sub": "arn:aws:iam::${AWS::AccountId}:role/*"
                                    },
                                    {
                                      "Fn::Sub": "arn:aws:lex:${AWS::Region}:${AWS::AccountId}:bot/*"
                                    },
                                    {
                                      "Fn::Sub": "arn:aws:lex:${AWS::Region}:${AWS::AccountId}:bot-alias/*"
                                    },
                                    {
                                      "Fn::Sub": "arn:aws:lambda:${AWS::Region}:${AWS::AccountId}:function:*"
                                    }
                                  ]
                                }
                              ]
                            },
                            "policyName": {
                              "Fn::Join": [
                                "_",
                                [
                                  {
                                    "Ref": "AWS::StackName"
                                  },
                                  "LexImportPolicy"
                                ]
                              ]
                            }
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  },
                  "LexImportFunction": {
                    "id": "LexImportFunction",
                    "path": "ChatDemoStack/LexAgent/template/LexImportFunction",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                      "aws:cdk:cloudformation:props": {
                        "code": {
                          "s3Bucket": {
                            "Fn::FindInMap": [
                              "BucketName",
                              {
                                "Ref": "AWS::Region"
                              },
                              "Name"
                            ]
                          },
                          "s3Key": {
                            "Fn::FindInMap": [
                              "S3Path",
                              "LexImportSource",
                              "Name"
                            ]
                          }
                        },
                        "environment": {
                          "variables": {
                            "TopicArn": {
                              "Ref": "LexRole"
                            }
                          }
                        },
                        "functionName": {
                          "Fn::Join": [
                            "_",
                            [
                              {
                                "Ref": "AWS::StackName"
                              },
                              "LexImportFunction"
                            ]
                          ]
                        },
                        "handler": "lambda_function.lambda_handler",
                        "memorySize": 128,
                        "role": {
                          "Fn::GetAtt": [
                            "LexImportRole",
                            "Arn"
                          ]
                        },
                        "runtime": "python3.9",
                        "timeout": 300
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                      "version": "2.172.0"
                    }
                  },
                  "DynamoDBTable": {
                    "id": "DynamoDBTable",
                    "path": "ChatDemoStack/LexAgent/template/DynamoDBTable",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::DynamoDB::Table",
                      "aws:cdk:cloudformation:props": {
                        "attributeDefinitions": [
                          {
                            "attributeName": "record_type_id",
                            "attributeType": "S"
                          },
                          {
                            "attributeName": "customer_id",
                            "attributeType": "S"
                          }
                        ],
                        "keySchema": [
                          {
                            "attributeName": "customer_id",
                            "keyType": "HASH"
                          },
                          {
                            "attributeName": "record_type_id",
                            "keyType": "RANGE"
                          }
                        ],
                        "pointInTimeRecoverySpecification": {
                          "pointInTimeRecoveryEnabled": true
                        },
                        "provisionedThroughput": {
                          "readCapacityUnits": 5,
                          "writeCapacityUnits": 5
                        },
                        "tableName": {
                          "Ref": "DynamoDBTableName"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_dynamodb.CfnTable",
                      "version": "2.172.0"
                    }
                  },
                  "LambdaRole": {
                    "id": "LambdaRole",
                    "path": "ChatDemoStack/LexAgent/template/LambdaRole",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Version": "2012-10-17",
                          "Statement": [
                            {
                              "Effect": "Allow",
                              "Principal": {
                                "Service": [
                                  "lambda.amazonaws.com"
                                ]
                              },
                              "Action": [
                                "sts:AssumeRole"
                              ]
                            }
                          ]
                        },
                        "path": "/",
                        "policies": [
                          {
                            "policyDocument": {
                              "Version": "2012-10-17",
                              "Statement": [
                                {
                                  "Effect": "Allow",
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:GetItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:PutItem",
                                    "dynamodb:UpdateItem",
                                    "dynamodb:DescribeTable",
                                    "logs:CreateLogGroup",
                                    "logs:CreateLogStream",
                                    "logs:PutLogEvents",
                                    "logs:DescribeLogStreams"
                                  ],
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": "DynamoDBTable.Arn"
                                    },
                                    "arn:aws:logs:*:*:*"
                                  ]
                                }
                              ]
                            },
                            "policyName": {
                              "Fn::Join": [
                                "_",
                                [
                                  {
                                    "Ref": "AWS::StackName"
                                  },
                                  "LambdaRolePolicy"
                                ]
                              ]
                            }
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  },
                  "InvokeLexImportFunction": {
                    "id": "InvokeLexImportFunction",
                    "path": "ChatDemoStack/LexAgent/template/InvokeLexImportFunction",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnResource",
                      "version": "2.172.0"
                    }
                  },
                  "LambdaBusinessLogic": {
                    "id": "LambdaBusinessLogic",
                    "path": "ChatDemoStack/LexAgent/template/LambdaBusinessLogic",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                      "aws:cdk:cloudformation:props": {
                        "code": {
                          "s3Bucket": {
                            "Fn::FindInMap": [
                              "BucketName",
                              {
                                "Ref": "AWS::Region"
                              },
                              "Name"
                            ]
                          },
                          "s3Key": {
                            "Fn::FindInMap": [
                              "S3Path",
                              "BusinessLogicSource",
                              "Name"
                            ]
                          }
                        },
                        "environment": {
                          "variables": {
                            "dynamodb_tablename": {
                              "Ref": "DynamoDBTableName"
                            },
                            "databaseUser": "admin"
                          }
                        },
                        "functionName": {
                          "Ref": "BusinessLogicFunctionName"
                        },
                        "handler": "lambda_function.lambda_handler",
                        "memorySize": 128,
                        "role": {
                          "Fn::GetAtt": [
                            "LambdaRole",
                            "Arn"
                          ]
                        },
                        "runtime": "python3.9",
                        "timeout": 300
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                      "version": "2.172.0"
                    }
                  },
                  "DynamoDBImportFunction": {
                    "id": "DynamoDBImportFunction",
                    "path": "ChatDemoStack/LexAgent/template/DynamoDBImportFunction",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                      "aws:cdk:cloudformation:props": {
                        "code": {
                          "s3Bucket": {
                            "Fn::FindInMap": [
                              "BucketName",
                              {
                                "Ref": "AWS::Region"
                              },
                              "Name"
                            ]
                          },
                          "s3Key": {
                            "Fn::FindInMap": [
                              "S3Path",
                              "DBImportSource",
                              "Name"
                            ]
                          }
                        },
                        "functionName": {
                          "Fn::Join": [
                            "_",
                            [
                              {
                                "Ref": "AWS::StackName"
                              },
                              "DynamoDBImportFunction"
                            ]
                          ]
                        },
                        "handler": "lambda_function.lambda_handler",
                        "memorySize": 128,
                        "role": {
                          "Fn::GetAtt": [
                            "LambdaRole",
                            "Arn"
                          ]
                        },
                        "runtime": "python3.9",
                        "timeout": 300
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                      "version": "2.172.0"
                    }
                  },
                  "InvokeDynamoDBImportFunction": {
                    "id": "InvokeDynamoDBImportFunction",
                    "path": "ChatDemoStack/LexAgent/template/InvokeDynamoDBImportFunction",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnResource",
                      "version": "2.172.0"
                    }
                  },
                  "LambdaPermission": {
                    "id": "LambdaPermission",
                    "path": "ChatDemoStack/LexAgent/template/LambdaPermission",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                      "aws:cdk:cloudformation:props": {
                        "action": "lambda:InvokeFunction",
                        "functionName": {
                          "Fn::GetAtt": "LambdaBusinessLogic.Arn"
                        },
                        "principal": "lexv2.amazonaws.com",
                        "sourceArn": {
                          "Fn::GetAtt": "InvokeLexImportFunction.lex_arn"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                      "version": "2.172.0"
                    }
                  },
                  "ConnectRole": {
                    "id": "ConnectRole",
                    "path": "ChatDemoStack/LexAgent/template/ConnectRole",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Version": "2012-10-17",
                          "Statement": [
                            {
                              "Effect": "Allow",
                              "Principal": {
                                "Service": [
                                  "lambda.amazonaws.com"
                                ]
                              },
                              "Action": [
                                "sts:AssumeRole"
                              ]
                            }
                          ]
                        },
                        "managedPolicyArns": [
                          "arn:aws:iam::aws:policy/AmazonLexFullAccess"
                        ],
                        "path": "/",
                        "policies": [
                          {
                            "policyDocument": {
                              "Version": "2012-10-17",
                              "Statement": [
                                {
                                  "Effect": "Allow",
                                  "Action": [
                                    "connect:CreateContactFlow",
                                    "connect:AssociateBot",
                                    "connect:DescribeContactFlow",
                                    "connect:ListContactFlows",
                                    "iam:AddRoleToInstanceProfile",
                                    "iam:AddUserToGroup",
                                    "iam:AttachGroupPolicy",
                                    "iam:AttachRolePolicy",
                                    "iam:AttachUserPolicy",
                                    "iam:CreateInstanceProfile",
                                    "iam:CreatePolicy",
                                    "iam:CreateRole",
                                    "iam:CreateServiceLinkedRole",
                                    "iam:CreateUser",
                                    "iam:DetachGroupPolicy",
                                    "iam:DetachRolePolicy",
                                    "iam:DetachUserPolicy",
                                    "iam:GetGroup",
                                    "iam:GetGroupPolicy",
                                    "iam:GetInstanceProfile",
                                    "iam:GetLoginProfile",
                                    "iam:PutGroupPolicy",
                                    "iam:PutRolePolicy",
                                    "iam:PutUserPolicy",
                                    "iam:UpdateGroup",
                                    "iam:UpdateRole",
                                    "iam:UpdateUser",
                                    "iam:GetPolicy",
                                    "iam:GetPolicyVersion",
                                    "iam:GetRole",
                                    "iam:GetRolePolicy",
                                    "iam:GetUser",
                                    "iam:GetUserPolicy",
                                    "iam:CreatePolicyVersion",
                                    "iam:SetDefaultPolicyVersion",
                                    "logs:CreateLogStream",
                                    "logs:PutLogEvents",
                                    "logs:DescribeLogStreams"
                                  ],
                                  "Resource": "*"
                                }
                              ]
                            },
                            "policyName": {
                              "Fn::Join": [
                                "_",
                                [
                                  {
                                    "Ref": "AWS::StackName"
                                  },
                                  "ConnectRole"
                                ]
                              ]
                            }
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  },
                  "ConnectImportFunction": {
                    "id": "ConnectImportFunction",
                    "path": "ChatDemoStack/LexAgent/template/ConnectImportFunction",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                      "aws:cdk:cloudformation:props": {
                        "code": {
                          "s3Bucket": {
                            "Fn::FindInMap": [
                              "BucketName",
                              {
                                "Ref": "AWS::Region"
                              },
                              "Name"
                            ]
                          },
                          "s3Key": {
                            "Fn::FindInMap": [
                              "S3Path",
                              "ConnectImportSource",
                              "Name"
                            ]
                          }
                        },
                        "functionName": {
                          "Fn::Join": [
                            "_",
                            [
                              {
                                "Ref": "AWS::StackName"
                              },
                              "ConnectImportFunction"
                            ]
                          ]
                        },
                        "handler": "lambda_function.lambda_handler",
                        "memorySize": 128,
                        "role": {
                          "Fn::GetAtt": [
                            "ConnectRole",
                            "Arn"
                          ]
                        },
                        "runtime": "python3.9",
                        "timeout": 300
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                      "version": "2.172.0"
                    }
                  },
                  "InvokeConnectImportFunction": {
                    "id": "InvokeConnectImportFunction",
                    "path": "ChatDemoStack/LexAgent/template/InvokeConnectImportFunction",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnResource",
                      "version": "2.172.0"
                    }
                  },
                  "$Hooks": {
                    "id": "$Hooks",
                    "path": "ChatDemoStack/LexAgent/template/$Hooks",
                    "constructInfo": {
                      "fqn": "constructs.Construct",
                      "version": "10.3.0"
                    }
                  },
                  "$Outputs": {
                    "id": "$Outputs",
                    "path": "ChatDemoStack/LexAgent/template/$Outputs",
                    "children": {
                      "AmazonConnect": {
                        "id": "AmazonConnect",
                        "path": "ChatDemoStack/LexAgent/template/$Outputs/AmazonConnect",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.CfnOutput",
                          "version": "2.172.0"
                        }
                      },
                      "CustomerData": {
                        "id": "CustomerData",
                        "path": "ChatDemoStack/LexAgent/template/$Outputs/CustomerData",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.CfnOutput",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "constructs.Construct",
                      "version": "10.3.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.cloudformation_include.CfnInclude",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.3.0"
            }
          },
          "DocumentsBucket": {
            "id": "DocumentsBucket",
            "path": "ChatDemoStack/DocumentsBucket",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "ChatDemoStack/DocumentsBucket/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::S3::Bucket",
                  "aws:cdk:cloudformation:props": {
                    "tags": [
                      {
                        "key": "aws-cdk:auto-delete-objects",
                        "value": "true"
                      },
                      {
                        "key": "aws-cdk:cr-owned:7932ea10",
                        "value": "true"
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.CfnBucket",
                  "version": "2.172.0"
                }
              },
              "Policy": {
                "id": "Policy",
                "path": "ChatDemoStack/DocumentsBucket/Policy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "ChatDemoStack/DocumentsBucket/Policy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::S3::BucketPolicy",
                      "aws:cdk:cloudformation:props": {
                        "bucket": {
                          "Ref": "DocumentsBucket9EC9DEB9"
                        },
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": "s3:*",
                              "Condition": {
                                "Bool": {
                                  "aws:SecureTransport": "false"
                                }
                              },
                              "Effect": "Deny",
                              "Principal": {
                                "AWS": "*"
                              },
                              "Resource": [
                                {
                                  "Fn::GetAtt": [
                                    "DocumentsBucket9EC9DEB9",
                                    "Arn"
                                  ]
                                },
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      {
                                        "Fn::GetAtt": [
                                          "DocumentsBucket9EC9DEB9",
                                          "Arn"
                                        ]
                                      },
                                      "/*"
                                    ]
                                  ]
                                }
                              ]
                            },
                            {
                              "Action": [
                                "s3:DeleteObject*",
                                "s3:GetBucket*",
                                "s3:List*",
                                "s3:PutBucketPolicy"
                              ],
                              "Effect": "Allow",
                              "Principal": {
                                "AWS": {
                                  "Fn::GetAtt": [
                                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                                    "Arn"
                                  ]
                                }
                              },
                              "Resource": [
                                {
                                  "Fn::GetAtt": [
                                    "DocumentsBucket9EC9DEB9",
                                    "Arn"
                                  ]
                                },
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      {
                                        "Fn::GetAtt": [
                                          "DocumentsBucket9EC9DEB9",
                                          "Arn"
                                        ]
                                      },
                                      "/*"
                                    ]
                                  ]
                                }
                              ]
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.CfnBucketPolicy",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.BucketPolicy",
                  "version": "2.172.0"
                }
              },
              "AutoDeleteObjectsCustomResource": {
                "id": "AutoDeleteObjectsCustomResource",
                "path": "ChatDemoStack/DocumentsBucket/AutoDeleteObjectsCustomResource",
                "children": {
                  "Default": {
                    "id": "Default",
                    "path": "ChatDemoStack/DocumentsBucket/AutoDeleteObjectsCustomResource/Default",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnResource",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CustomResource",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_s3.Bucket",
              "version": "2.172.0"
            }
          },
          "Custom::S3AutoDeleteObjectsCustomResourceProvider": {
            "id": "Custom::S3AutoDeleteObjectsCustomResourceProvider",
            "path": "ChatDemoStack/Custom::S3AutoDeleteObjectsCustomResourceProvider",
            "children": {
              "Staging": {
                "id": "Staging",
                "path": "ChatDemoStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.AssetStaging",
                  "version": "2.172.0"
                }
              },
              "Role": {
                "id": "Role",
                "path": "ChatDemoStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.172.0"
                }
              },
              "Handler": {
                "id": "Handler",
                "path": "ChatDemoStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.CustomResourceProviderBase",
              "version": "2.172.0"
            }
          },
          "MutiAgentOrchestratorDocKb": {
            "id": "MutiAgentOrchestratorDocKb",
            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb",
            "children": {
              "BedrockKBServiceRole": {
                "id": "BedrockKBServiceRole",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/BedrockKBServiceRole",
                "children": {
                  "ImportBedrockKBServiceRole": {
                    "id": "ImportBedrockKBServiceRole",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/BedrockKBServiceRole/ImportBedrockKBServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/BedrockKBServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "bedrock.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/BedrockKBServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/BedrockKBServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "bedrock:InvokeModel",
                                  "Effect": "Allow",
                                  "Resource": "arn:aws:bedrock:us-east-1::foundation-model/amazon.titan-embed-text-v1",
                                  "Sid": "AllowKBToInvokeEmbedding"
                                },
                                {
                                  "Action": "aoss:APIAccessAll",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "MutiAgentOrchestratorDocKbAOSSCollectionForKBCollection0BF37442",
                                      "Arn"
                                    ]
                                  },
                                  "Sid": "AllowKBToAccessAOSS"
                                },
                                {
                                  "Action": [
                                    "s3:GetObject",
                                    "s3:ListBucket"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:aws:s3:::",
                                          {
                                            "Ref": "DocumentsBucket9EC9DEB9"
                                          },
                                          "/*"
                                        ]
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:aws:s3:::",
                                          {
                                            "Ref": "DocumentsBucket9EC9DEB9"
                                          }
                                        ]
                                      ]
                                    }
                                  ],
                                  "Sid": "AllowKBToAccessAssets"
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "MutiAgentOrchestratorDocKbBedrockKBServiceRoleDefaultPolicy5858AC9A",
                            "roles": [
                              {
                                "Ref": "MutiAgentOrchestratorDocKbBedrockKBServiceRole801F508D"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.172.0"
                }
              },
              "KnowledgeBase": {
                "id": "KnowledgeBase",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/KnowledgeBase",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Bedrock::KnowledgeBase",
                  "aws:cdk:cloudformation:props": {
                    "knowledgeBaseConfiguration": {
                      "type": "VECTOR",
                      "vectorKnowledgeBaseConfiguration": {
                        "embeddingModelArn": "arn:aws:bedrock:us-east-1::foundation-model/amazon.titan-embed-text-v1"
                      }
                    },
                    "name": "Multi-agent-orchestrator-doc-kb",
                    "roleArn": {
                      "Fn::GetAtt": [
                        "MutiAgentOrchestratorDocKbBedrockKBServiceRole801F508D",
                        "Arn"
                      ]
                    },
                    "storageConfiguration": {
                      "type": "OPENSEARCH_SERVERLESS",
                      "opensearchServerlessConfiguration": {
                        "collectionArn": {
                          "Fn::GetAtt": [
                            "MutiAgentOrchestratorDocKbAOSSCollectionForKBCollection0BF37442",
                            "Arn"
                          ]
                        },
                        "fieldMapping": {
                          "metadataField": "AMAZON_BEDROCK_METADATA",
                          "textField": "AMAZON_BEDROCK_TEXT_CHUNK",
                          "vectorField": "bedrock-knowledge-base-default-vector"
                        },
                        "vectorIndexName": "agent-blueprints-kb-default-index"
                      }
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_bedrock.CfnKnowledgeBase",
                  "version": "2.172.0"
                }
              },
              "PermissionValidationRole": {
                "id": "PermissionValidationRole",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationRole",
                "children": {
                  "ImportPermissionValidationRole": {
                    "id": "ImportPermissionValidationRole",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationRole/ImportPermissionValidationRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ],
                        "policies": [
                          {
                            "policyName": "AOSSAccess",
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "aoss:APIAccessAll",
                                  "Effect": "Allow",
                                  "Resource": "*"
                                }
                              ],
                              "Version": "2012-10-17"
                            }
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.172.0"
                }
              },
              "AOSSCollectionForKB": {
                "id": "AOSSCollectionForKB",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB",
                "children": {
                  "IndexCreationLambdaExecutionRole": {
                    "id": "IndexCreationLambdaExecutionRole",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/IndexCreationLambdaExecutionRole",
                    "children": {
                      "ImportIndexCreationLambdaExecutionRole": {
                        "id": "ImportIndexCreationLambdaExecutionRole",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/IndexCreationLambdaExecutionRole/ImportIndexCreationLambdaExecutionRole",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.Resource",
                          "version": "2.172.0"
                        }
                      },
                      "Resource": {
                        "id": "Resource",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/IndexCreationLambdaExecutionRole/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                          "aws:cdk:cloudformation:props": {
                            "assumeRolePolicyDocument": {
                              "Statement": [
                                {
                                  "Action": "sts:AssumeRole",
                                  "Effect": "Allow",
                                  "Principal": {
                                    "Service": "lambda.amazonaws.com"
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "managedPolicyArns": [
                              {
                                "Fn::Join": [
                                  "",
                                  [
                                    "arn:",
                                    {
                                      "Ref": "AWS::Partition"
                                    },
                                    ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                                  ]
                                ]
                              }
                            ],
                            "policies": [
                              {
                                "policyName": "AOSSAccess",
                                "policyDocument": {
                                  "Statement": [
                                    {
                                      "Action": "aoss:APIAccessAll",
                                      "Effect": "Allow",
                                      "Resource": "arn:aws:aoss:us-east-1:381491977884:collection/*"
                                    }
                                  ],
                                  "Version": "2012-10-17"
                                }
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Role",
                      "version": "2.172.0"
                    }
                  },
                  "NetworkPolicy": {
                    "id": "NetworkPolicy",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/NetworkPolicy",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::OpenSearchServerless::SecurityPolicy",
                      "aws:cdk:cloudformation:props": {
                        "description": "Security policy for network access",
                        "name": "multi-agent-orchestra-co-network",
                        "policy": "[{\"Rules\":[{\"ResourceType\":\"collection\",\"Resource\":[\"collection/multi-agent-orchestra-collection\"]},{\"ResourceType\":\"dashboard\",\"Resource\":[\"collection/multi-agent-orchestra-collection\"]}],\"AllowFromPublic\":true}]",
                        "type": "network"
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_opensearchserverless.CfnSecurityPolicy",
                      "version": "2.172.0"
                    }
                  },
                  "EncryptionPolicy": {
                    "id": "EncryptionPolicy",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/EncryptionPolicy",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::OpenSearchServerless::SecurityPolicy",
                      "aws:cdk:cloudformation:props": {
                        "description": "Security policy for encryption",
                        "name": "multi-agent-orchestra-encryption",
                        "policy": "{\"Rules\":[{\"ResourceType\":\"collection\",\"Resource\":[\"collection/multi-agent-orchestra-collection\"]}],\"AWSOwnedKey\":true}",
                        "type": "encryption"
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_opensearchserverless.CfnSecurityPolicy",
                      "version": "2.172.0"
                    }
                  },
                  "AccessPolicy": {
                    "id": "AccessPolicy",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/AccessPolicy",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::OpenSearchServerless::AccessPolicy",
                      "aws:cdk:cloudformation:props": {
                        "description": "Data Access Policy for multi-agent-orchestra-collection",
                        "name": "multi-agent-orchestra-col-access",
                        "policy": {
                          "Fn::Join": [
                            "",
                            [
                              "[{\"Description\":\"Full Data Access\",\"Rules\":[{\"Permission\":[\"aoss:CreateCollectionItems\",\"aoss:DeleteCollectionItems\",\"aoss:UpdateCollectionItems\",\"aoss:DescribeCollectionItems\"],\"ResourceType\":\"collection\",\"Resource\":[\"collection/multi-agent-orchestra-collection\"]},{\"Permission\":[\"aoss:CreateIndex\",\"aoss:DeleteIndex\",\"aoss:UpdateIndex\",\"aoss:DescribeIndex\",\"aoss:ReadDocument\",\"aoss:WriteDocument\"],\"ResourceType\":\"index\",\"Resource\":[\"index/multi-agent-orchestra-collection/*\"]}],\"Principal\":[\"",
                              {
                                "Fn::GetAtt": [
                                  "MutiAgentOrchestratorDocKbAOSSCollectionForKBIndexCreationLambdaExecutionRoleA655E5AB",
                                  "Arn"
                                ]
                              },
                              "\",\"",
                              {
                                "Fn::GetAtt": [
                                  "MutiAgentOrchestratorDocKbBedrockKBServiceRole801F508D",
                                  "Arn"
                                ]
                              },
                              "\",\"",
                              {
                                "Fn::GetAtt": [
                                  "MutiAgentOrchestratorDocKbPermissionValidationRole22C0C014",
                                  "Arn"
                                ]
                              },
                              "\"]}]"
                            ]
                          ]
                        },
                        "type": "data"
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_opensearchserverless.CfnAccessPolicy",
                      "version": "2.172.0"
                    }
                  },
                  "Collection": {
                    "id": "Collection",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Collection",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::OpenSearchServerless::Collection",
                      "aws:cdk:cloudformation:props": {
                        "description": "OpenSearch Serverless collection for Multi-agent orchestrator",
                        "name": "multi-agent-orchestra-collection",
                        "type": "VECTORSEARCH"
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_opensearchserverless.CfnCollection",
                      "version": "2.172.0"
                    }
                  },
                  "powertools-layer-ts": {
                    "id": "powertools-layer-ts",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/powertools-layer-ts",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.172.0"
                    }
                  },
                  "CustomResourceHandler": {
                    "id": "CustomResourceHandler",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/CustomResourceHandler",
                    "children": {
                      "Code": {
                        "id": "Code",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/CustomResourceHandler/Code",
                        "children": {
                          "Stage": {
                            "id": "Stage",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/CustomResourceHandler/Code/Stage",
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.AssetStaging",
                              "version": "2.172.0"
                            }
                          },
                          "AssetBucket": {
                            "id": "AssetBucket",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/CustomResourceHandler/Code/AssetBucket",
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                              "version": "2.172.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                          "version": "2.172.0"
                        }
                      },
                      "Resource": {
                        "id": "Resource",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/CustomResourceHandler/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                          "aws:cdk:cloudformation:props": {
                            "code": {
                              "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                              "s3Key": "6df47464e7214f96586b0a5a8e0f2f62246de7b57c2295cc2bf604f5285c133c.zip"
                            },
                            "handler": "index.onEvent",
                            "layers": [
                              "arn:aws:lambda:us-east-1:094274105915:layer:AWSLambdaPowertoolsTypeScriptV2:2"
                            ],
                            "memorySize": 512,
                            "role": {
                              "Fn::GetAtt": [
                                "MutiAgentOrchestratorDocKbAOSSCollectionForKBIndexCreationLambdaExecutionRoleA655E5AB",
                                "Arn"
                              ]
                            },
                            "runtime": "nodejs18.x",
                            "timeout": 900
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda_nodejs.NodejsFunction",
                      "version": "2.172.0"
                    }
                  },
                  "Provider": {
                    "id": "Provider",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Provider",
                    "children": {
                      "framework-onEvent": {
                        "id": "framework-onEvent",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Provider/framework-onEvent",
                        "children": {
                          "ServiceRole": {
                            "id": "ServiceRole",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Provider/framework-onEvent/ServiceRole",
                            "children": {
                              "ImportServiceRole": {
                                "id": "ImportServiceRole",
                                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Provider/framework-onEvent/ServiceRole/ImportServiceRole",
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.Resource",
                                  "version": "2.172.0"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Provider/framework-onEvent/ServiceRole/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                                  "aws:cdk:cloudformation:props": {
                                    "assumeRolePolicyDocument": {
                                      "Statement": [
                                        {
                                          "Action": "sts:AssumeRole",
                                          "Effect": "Allow",
                                          "Principal": {
                                            "Service": "lambda.amazonaws.com"
                                          }
                                        }
                                      ],
                                      "Version": "2012-10-17"
                                    },
                                    "managedPolicyArns": [
                                      {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                                          ]
                                        ]
                                      }
                                    ]
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                                  "version": "2.172.0"
                                }
                              },
                              "DefaultPolicy": {
                                "id": "DefaultPolicy",
                                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Provider/framework-onEvent/ServiceRole/DefaultPolicy",
                                "children": {
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Provider/framework-onEvent/ServiceRole/DefaultPolicy/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                                      "aws:cdk:cloudformation:props": {
                                        "policyDocument": {
                                          "Statement": [
                                            {
                                              "Action": "lambda:InvokeFunction",
                                              "Effect": "Allow",
                                              "Resource": [
                                                {
                                                  "Fn::GetAtt": [
                                                    "MutiAgentOrchestratorDocKbAOSSCollectionForKBCustomResourceHandler3F9C6ACE",
                                                    "Arn"
                                                  ]
                                                },
                                                {
                                                  "Fn::Join": [
                                                    "",
                                                    [
                                                      {
                                                        "Fn::GetAtt": [
                                                          "MutiAgentOrchestratorDocKbAOSSCollectionForKBCustomResourceHandler3F9C6ACE",
                                                          "Arn"
                                                        ]
                                                      },
                                                      ":*"
                                                    ]
                                                  ]
                                                }
                                              ]
                                            }
                                          ],
                                          "Version": "2012-10-17"
                                        },
                                        "policyName": "MutiAgentOrchestratorDocKbAOSSCollectionForKBProviderframeworkonEventServiceRoleDefaultPolicy771A3F6F",
                                        "roles": [
                                          {
                                            "Ref": "MutiAgentOrchestratorDocKbAOSSCollectionForKBProviderframeworkonEventServiceRoleF2FBF23B"
                                          }
                                        ]
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                                      "version": "2.172.0"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_iam.Policy",
                                  "version": "2.172.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.Role",
                              "version": "2.172.0"
                            }
                          },
                          "Code": {
                            "id": "Code",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Provider/framework-onEvent/Code",
                            "children": {
                              "Stage": {
                                "id": "Stage",
                                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Provider/framework-onEvent/Code/Stage",
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.AssetStaging",
                                  "version": "2.172.0"
                                }
                              },
                              "AssetBucket": {
                                "id": "AssetBucket",
                                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Provider/framework-onEvent/Code/AssetBucket",
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                                  "version": "2.172.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                              "version": "2.172.0"
                            }
                          },
                          "Resource": {
                            "id": "Resource",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Provider/framework-onEvent/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                              "aws:cdk:cloudformation:props": {
                                "code": {
                                  "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                                  "s3Key": "8ba5ee0003de28bf8e4a4fc7e1821c881abd3a80657825533ed1c301bec7e74a.zip"
                                },
                                "description": "AWS CDK resource provider framework - onEvent (ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/Provider)",
                                "environment": {
                                  "variables": {
                                    "USER_ON_EVENT_FUNCTION_ARN": {
                                      "Fn::GetAtt": [
                                        "MutiAgentOrchestratorDocKbAOSSCollectionForKBCustomResourceHandler3F9C6ACE",
                                        "Arn"
                                      ]
                                    }
                                  }
                                },
                                "handler": "framework.onEvent",
                                "role": {
                                  "Fn::GetAtt": [
                                    "MutiAgentOrchestratorDocKbAOSSCollectionForKBProviderframeworkonEventServiceRoleF2FBF23B",
                                    "Arn"
                                  ]
                                },
                                "runtime": "nodejs20.x",
                                "timeout": 900
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                              "version": "2.172.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_lambda.Function",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.custom_resources.Provider",
                      "version": "2.172.0"
                    }
                  },
                  "OpenSearchIndex": {
                    "id": "OpenSearchIndex",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/OpenSearchIndex",
                    "children": {
                      "Default": {
                        "id": "Default",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/AOSSCollectionForKB/OpenSearchIndex/Default",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.CfnResource",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CustomResource",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "constructs.Construct",
                  "version": "10.3.0"
                }
              },
              "powertools-layer-ts": {
                "id": "powertools-layer-ts",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/powertools-layer-ts",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.172.0"
                }
              },
              "PermissionCustomResourceHandler": {
                "id": "PermissionCustomResourceHandler",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionCustomResourceHandler",
                "children": {
                  "Code": {
                    "id": "Code",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionCustomResourceHandler/Code",
                    "children": {
                      "Stage": {
                        "id": "Stage",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionCustomResourceHandler/Code/Stage",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.AssetStaging",
                          "version": "2.172.0"
                        }
                      },
                      "AssetBucket": {
                        "id": "AssetBucket",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionCustomResourceHandler/Code/AssetBucket",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionCustomResourceHandler/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                      "aws:cdk:cloudformation:props": {
                        "code": {
                          "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                          "s3Key": "870b01bb96bd4c7772ab1711586b0a00f97131331a09b43aed15ce12eaa7366f.zip"
                        },
                        "handler": "index.onEvent",
                        "layers": [
                          "arn:aws:lambda:us-east-1:094274105915:layer:AWSLambdaPowertoolsTypeScriptV2:2"
                        ],
                        "memorySize": 128,
                        "role": {
                          "Fn::GetAtt": [
                            "MutiAgentOrchestratorDocKbPermissionValidationRole22C0C014",
                            "Arn"
                          ]
                        },
                        "runtime": "nodejs18.x",
                        "timeout": 900
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda_nodejs.NodejsFunction",
                  "version": "2.172.0"
                }
              },
              "PermissionValidationProvider": {
                "id": "PermissionValidationProvider",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationProvider",
                "children": {
                  "framework-onEvent": {
                    "id": "framework-onEvent",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationProvider/framework-onEvent",
                    "children": {
                      "ServiceRole": {
                        "id": "ServiceRole",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationProvider/framework-onEvent/ServiceRole",
                        "children": {
                          "ImportServiceRole": {
                            "id": "ImportServiceRole",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationProvider/framework-onEvent/ServiceRole/ImportServiceRole",
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.Resource",
                              "version": "2.172.0"
                            }
                          },
                          "Resource": {
                            "id": "Resource",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationProvider/framework-onEvent/ServiceRole/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                              "aws:cdk:cloudformation:props": {
                                "assumeRolePolicyDocument": {
                                  "Statement": [
                                    {
                                      "Action": "sts:AssumeRole",
                                      "Effect": "Allow",
                                      "Principal": {
                                        "Service": "lambda.amazonaws.com"
                                      }
                                    }
                                  ],
                                  "Version": "2012-10-17"
                                },
                                "managedPolicyArns": [
                                  {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:",
                                        {
                                          "Ref": "AWS::Partition"
                                        },
                                        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                                      ]
                                    ]
                                  }
                                ]
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                              "version": "2.172.0"
                            }
                          },
                          "DefaultPolicy": {
                            "id": "DefaultPolicy",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationProvider/framework-onEvent/ServiceRole/DefaultPolicy",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                                  "aws:cdk:cloudformation:props": {
                                    "policyDocument": {
                                      "Statement": [
                                        {
                                          "Action": "lambda:InvokeFunction",
                                          "Effect": "Allow",
                                          "Resource": [
                                            {
                                              "Fn::GetAtt": [
                                                "MutiAgentOrchestratorDocKbPermissionCustomResourceHandler4F0F6824",
                                                "Arn"
                                              ]
                                            },
                                            {
                                              "Fn::Join": [
                                                "",
                                                [
                                                  {
                                                    "Fn::GetAtt": [
                                                      "MutiAgentOrchestratorDocKbPermissionCustomResourceHandler4F0F6824",
                                                      "Arn"
                                                    ]
                                                  },
                                                  ":*"
                                                ]
                                              ]
                                            }
                                          ]
                                        }
                                      ],
                                      "Version": "2012-10-17"
                                    },
                                    "policyName": "MutiAgentOrchestratorDocKbPermissionValidationProviderframeworkonEventServiceRoleDefaultPolicy1DD681E4",
                                    "roles": [
                                      {
                                        "Ref": "MutiAgentOrchestratorDocKbPermissionValidationProviderframeworkonEventServiceRole0AC694CF"
                                      }
                                    ]
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                                  "version": "2.172.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.Policy",
                              "version": "2.172.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.Role",
                          "version": "2.172.0"
                        }
                      },
                      "Code": {
                        "id": "Code",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationProvider/framework-onEvent/Code",
                        "children": {
                          "Stage": {
                            "id": "Stage",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationProvider/framework-onEvent/Code/Stage",
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.AssetStaging",
                              "version": "2.172.0"
                            }
                          },
                          "AssetBucket": {
                            "id": "AssetBucket",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationProvider/framework-onEvent/Code/AssetBucket",
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                              "version": "2.172.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                          "version": "2.172.0"
                        }
                      },
                      "Resource": {
                        "id": "Resource",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationProvider/framework-onEvent/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                          "aws:cdk:cloudformation:props": {
                            "code": {
                              "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                              "s3Key": "8ba5ee0003de28bf8e4a4fc7e1821c881abd3a80657825533ed1c301bec7e74a.zip"
                            },
                            "description": "AWS CDK resource provider framework - onEvent (ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationProvider)",
                            "environment": {
                              "variables": {
                                "USER_ON_EVENT_FUNCTION_ARN": {
                                  "Fn::GetAtt": [
                                    "MutiAgentOrchestratorDocKbPermissionCustomResourceHandler4F0F6824",
                                    "Arn"
                                  ]
                                }
                              }
                            },
                            "handler": "framework.onEvent",
                            "role": {
                              "Fn::GetAtt": [
                                "MutiAgentOrchestratorDocKbPermissionValidationProviderframeworkonEventServiceRole0AC694CF",
                                "Arn"
                              ]
                            },
                            "runtime": "nodejs20.x",
                            "timeout": 900
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.Function",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.custom_resources.Provider",
                  "version": "2.172.0"
                }
              },
              "PermissionValidationCustomResource": {
                "id": "PermissionValidationCustomResource",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationCustomResource",
                "children": {
                  "Default": {
                    "id": "Default",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/PermissionValidationCustomResource/Default",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnResource",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CustomResource",
                  "version": "2.172.0"
                }
              },
              "BlueprintsDataSource": {
                "id": "BlueprintsDataSource",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/BlueprintsDataSource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Bedrock::DataSource",
                  "aws:cdk:cloudformation:props": {
                    "dataDeletionPolicy": "RETAIN",
                    "dataSourceConfiguration": {
                      "s3Configuration": {
                        "bucketArn": {
                          "Fn::GetAtt": [
                            "DocumentsBucket9EC9DEB9",
                            "Arn"
                          ]
                        }
                      },
                      "type": "S3"
                    },
                    "description": "Data source for KB",
                    "knowledgeBaseId": {
                      "Fn::GetAtt": [
                        "MutiAgentOrchestratorDocKbKnowledgeBase1C8136A3",
                        "KnowledgeBaseId"
                      ]
                    },
                    "name": "Multi-agent-orchestrator-doc-kb-DataSource",
                    "vectorIngestionConfiguration": {
                      "chunkingConfiguration": {
                        "chunkingStrategy": "FIXED_SIZE",
                        "fixedSizeChunkingConfiguration": {
                          "maxTokens": 1024,
                          "overlapPercentage": 20
                        }
                      }
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_bedrock.CfnDataSource",
                  "version": "2.172.0"
                }
              },
              "DataSyncLambdaRole": {
                "id": "DataSyncLambdaRole",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/DataSyncLambdaRole",
                "children": {
                  "ImportDataSyncLambdaRole": {
                    "id": "ImportDataSyncLambdaRole",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/DataSyncLambdaRole/ImportDataSyncLambdaRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/DataSyncLambdaRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ],
                        "policies": [
                          {
                            "policyName": "DataSyncAccess",
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "bedrock:DeleteDataSource",
                                    "bedrock:DeleteKnowledgeBase",
                                    "bedrock:GetDataSource",
                                    "bedrock:StartIngestionJob",
                                    "bedrock:UpdateDataSource"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:aws:bedrock:us-east-1:381491977884:knowledge-base/",
                                        {
                                          "Fn::GetAtt": [
                                            "MutiAgentOrchestratorDocKbKnowledgeBase1C8136A3",
                                            "KnowledgeBaseId"
                                          ]
                                        }
                                      ]
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            }
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.172.0"
                }
              },
              "powertools-layer-ts-kb": {
                "id": "powertools-layer-ts-kb",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/powertools-layer-ts-kb",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.172.0"
                }
              },
              "DataSyncCustomResourceHandler": {
                "id": "DataSyncCustomResourceHandler",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/DataSyncCustomResourceHandler",
                "children": {
                  "Code": {
                    "id": "Code",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/DataSyncCustomResourceHandler/Code",
                    "children": {
                      "Stage": {
                        "id": "Stage",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/DataSyncCustomResourceHandler/Code/Stage",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.AssetStaging",
                          "version": "2.172.0"
                        }
                      },
                      "AssetBucket": {
                        "id": "AssetBucket",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/DataSyncCustomResourceHandler/Code/AssetBucket",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/DataSyncCustomResourceHandler/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                      "aws:cdk:cloudformation:props": {
                        "code": {
                          "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                          "s3Key": "828d5dfcbaff9270ab1914ce4c0b0cbccc8d096141eedb45ee09ecb1e144c5dd.zip"
                        },
                        "handler": "index.onEvent",
                        "layers": [
                          "arn:aws:lambda:us-east-1:094274105915:layer:AWSLambdaPowertoolsTypeScriptV2:2"
                        ],
                        "memorySize": 128,
                        "role": {
                          "Fn::GetAtt": [
                            "MutiAgentOrchestratorDocKbDataSyncLambdaRole637F6A74",
                            "Arn"
                          ]
                        },
                        "runtime": "nodejs18.x",
                        "timeout": 900
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda_nodejs.NodejsFunction",
                  "version": "2.172.0"
                }
              },
              "Provider": {
                "id": "Provider",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/Provider",
                "children": {
                  "framework-onEvent": {
                    "id": "framework-onEvent",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/Provider/framework-onEvent",
                    "children": {
                      "ServiceRole": {
                        "id": "ServiceRole",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/Provider/framework-onEvent/ServiceRole",
                        "children": {
                          "ImportServiceRole": {
                            "id": "ImportServiceRole",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/Provider/framework-onEvent/ServiceRole/ImportServiceRole",
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.Resource",
                              "version": "2.172.0"
                            }
                          },
                          "Resource": {
                            "id": "Resource",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/Provider/framework-onEvent/ServiceRole/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                              "aws:cdk:cloudformation:props": {
                                "assumeRolePolicyDocument": {
                                  "Statement": [
                                    {
                                      "Action": "sts:AssumeRole",
                                      "Effect": "Allow",
                                      "Principal": {
                                        "Service": "lambda.amazonaws.com"
                                      }
                                    }
                                  ],
                                  "Version": "2012-10-17"
                                },
                                "managedPolicyArns": [
                                  {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:",
                                        {
                                          "Ref": "AWS::Partition"
                                        },
                                        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                                      ]
                                    ]
                                  }
                                ]
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                              "version": "2.172.0"
                            }
                          },
                          "DefaultPolicy": {
                            "id": "DefaultPolicy",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/Provider/framework-onEvent/ServiceRole/DefaultPolicy",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/Provider/framework-onEvent/ServiceRole/DefaultPolicy/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                                  "aws:cdk:cloudformation:props": {
                                    "policyDocument": {
                                      "Statement": [
                                        {
                                          "Action": "lambda:InvokeFunction",
                                          "Effect": "Allow",
                                          "Resource": [
                                            {
                                              "Fn::GetAtt": [
                                                "MutiAgentOrchestratorDocKbDataSyncCustomResourceHandlerFF3AEBCF",
                                                "Arn"
                                              ]
                                            },
                                            {
                                              "Fn::Join": [
                                                "",
                                                [
                                                  {
                                                    "Fn::GetAtt": [
                                                      "MutiAgentOrchestratorDocKbDataSyncCustomResourceHandlerFF3AEBCF",
                                                      "Arn"
                                                    ]
                                                  },
                                                  ":*"
                                                ]
                                              ]
                                            }
                                          ]
                                        }
                                      ],
                                      "Version": "2012-10-17"
                                    },
                                    "policyName": "MutiAgentOrchestratorDocKbProviderframeworkonEventServiceRoleDefaultPolicyCEA6BB32",
                                    "roles": [
                                      {
                                        "Ref": "MutiAgentOrchestratorDocKbProviderframeworkonEventServiceRole7846DCD8"
                                      }
                                    ]
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                                  "version": "2.172.0"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.Policy",
                              "version": "2.172.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.Role",
                          "version": "2.172.0"
                        }
                      },
                      "Code": {
                        "id": "Code",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/Provider/framework-onEvent/Code",
                        "children": {
                          "Stage": {
                            "id": "Stage",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/Provider/framework-onEvent/Code/Stage",
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.AssetStaging",
                              "version": "2.172.0"
                            }
                          },
                          "AssetBucket": {
                            "id": "AssetBucket",
                            "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/Provider/framework-onEvent/Code/AssetBucket",
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                              "version": "2.172.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                          "version": "2.172.0"
                        }
                      },
                      "Resource": {
                        "id": "Resource",
                        "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/Provider/framework-onEvent/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                          "aws:cdk:cloudformation:props": {
                            "code": {
                              "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                              "s3Key": "8ba5ee0003de28bf8e4a4fc7e1821c881abd3a80657825533ed1c301bec7e74a.zip"
                            },
                            "description": "AWS CDK resource provider framework - onEvent (ChatDemoStack/MutiAgentOrchestratorDocKb/Provider)",
                            "environment": {
                              "variables": {
                                "USER_ON_EVENT_FUNCTION_ARN": {
                                  "Fn::GetAtt": [
                                    "MutiAgentOrchestratorDocKbDataSyncCustomResourceHandlerFF3AEBCF",
                                    "Arn"
                                  ]
                                }
                              }
                            },
                            "handler": "framework.onEvent",
                            "role": {
                              "Fn::GetAtt": [
                                "MutiAgentOrchestratorDocKbProviderframeworkonEventServiceRole7846DCD8",
                                "Arn"
                              ]
                            },
                            "runtime": "nodejs20.x",
                            "timeout": 900
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.Function",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.custom_resources.Provider",
                  "version": "2.172.0"
                }
              },
              "DataSyncLambda": {
                "id": "DataSyncLambda",
                "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/DataSyncLambda",
                "children": {
                  "Default": {
                    "id": "Default",
                    "path": "ChatDemoStack/MutiAgentOrchestratorDocKb/DataSyncLambda/Default",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnResource",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CustomResource",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.3.0"
            }
          },
          "DeployDocumentation": {
            "id": "DeployDocumentation",
            "path": "ChatDemoStack/DeployDocumentation",
            "children": {
              "AwsCliLayer": {
                "id": "AwsCliLayer",
                "path": "ChatDemoStack/DeployDocumentation/AwsCliLayer",
                "children": {
                  "Code": {
                    "id": "Code",
                    "path": "ChatDemoStack/DeployDocumentation/AwsCliLayer/Code",
                    "children": {
                      "Stage": {
                        "id": "Stage",
                        "path": "ChatDemoStack/DeployDocumentation/AwsCliLayer/Code/Stage",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.AssetStaging",
                          "version": "2.172.0"
                        }
                      },
                      "AssetBucket": {
                        "id": "AssetBucket",
                        "path": "ChatDemoStack/DeployDocumentation/AwsCliLayer/Code/AssetBucket",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "ChatDemoStack/DeployDocumentation/AwsCliLayer/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::LayerVersion",
                      "aws:cdk:cloudformation:props": {
                        "content": {
                          "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                          "s3Key": "eafa2d6c6a55bda16b1603003f1721e2f66a024c0c31d6665ee1c5ff59b565d9.zip"
                        },
                        "description": "/opt/awscli/aws"
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnLayerVersion",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.lambda_layer_awscli.AwsCliLayer",
                  "version": "2.172.0"
                }
              },
              "CustomResourceHandler": {
                "id": "CustomResourceHandler",
                "path": "ChatDemoStack/DeployDocumentation/CustomResourceHandler",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.SingletonFunction",
                  "version": "2.172.0"
                }
              },
              "Asset1": {
                "id": "Asset1",
                "path": "ChatDemoStack/DeployDocumentation/Asset1",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "ChatDemoStack/DeployDocumentation/Asset1/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.172.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "ChatDemoStack/DeployDocumentation/Asset1/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.172.0"
                }
              },
              "Asset2": {
                "id": "Asset2",
                "path": "ChatDemoStack/DeployDocumentation/Asset2",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "ChatDemoStack/DeployDocumentation/Asset2/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.172.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "ChatDemoStack/DeployDocumentation/Asset2/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.172.0"
                }
              },
              "Asset3": {
                "id": "Asset3",
                "path": "ChatDemoStack/DeployDocumentation/Asset3",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "ChatDemoStack/DeployDocumentation/Asset3/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.172.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "ChatDemoStack/DeployDocumentation/Asset3/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.172.0"
                }
              },
              "CustomResource": {
                "id": "CustomResource",
                "path": "ChatDemoStack/DeployDocumentation/CustomResource",
                "children": {
                  "Default": {
                    "id": "Default",
                    "path": "ChatDemoStack/DeployDocumentation/CustomResource/Default",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnResource",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CustomResource",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_s3_deployment.BucketDeployment",
              "version": "2.172.0"
            }
          },
          "Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C": {
            "id": "Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C",
            "path": "ChatDemoStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "ChatDemoStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "ChatDemoStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "ChatDemoStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "ChatDemoStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "ChatDemoStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "s3:GetBucket*",
                                    "s3:GetObject*",
                                    "s3:List*"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    "arn:aws:s3:::cdk-hnb659fds-assets-381491977884-us-east-1",
                                    "arn:aws:s3:::cdk-hnb659fds-assets-381491977884-us-east-1/*"
                                  ]
                                },
                                {
                                  "Action": [
                                    "s3:Abort*",
                                    "s3:DeleteObject*",
                                    "s3:GetBucket*",
                                    "s3:GetObject*",
                                    "s3:List*",
                                    "s3:PutObject",
                                    "s3:PutObjectLegalHold",
                                    "s3:PutObjectRetention",
                                    "s3:PutObjectTagging",
                                    "s3:PutObjectVersionTagging"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "DocumentsBucket9EC9DEB9",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "DocumentsBucket9EC9DEB9",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
                            "roles": [
                              {
                                "Ref": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.172.0"
                }
              },
              "Code": {
                "id": "Code",
                "path": "ChatDemoStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "ChatDemoStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.172.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "ChatDemoStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.172.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "ChatDemoStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                      "s3Key": "c6358465bf49dfae556bb430bf9c81fa578c221b82c308e3707901b1dd654762.zip"
                    },
                    "environment": {
                      "variables": {
                        "AWS_CA_BUNDLE": "/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"
                      }
                    },
                    "handler": "index.handler",
                    "layers": [
                      {
                        "Ref": "DeployDocumentationAwsCliLayer51ED56B3"
                      }
                    ],
                    "role": {
                      "Fn::GetAtt": [
                        "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.11",
                    "timeout": 900
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.172.0"
            }
          },
          "powertools-layer-ts": {
            "id": "powertools-layer-ts",
            "path": "ChatDemoStack/powertools-layer-ts",
            "constructInfo": {
              "fqn": "aws-cdk-lib.Resource",
              "version": "2.172.0"
            }
          },
          "BasicLambdaRole": {
            "id": "BasicLambdaRole",
            "path": "ChatDemoStack/BasicLambdaRole",
            "children": {
              "ImportBasicLambdaRole": {
                "id": "ImportBasicLambdaRole",
                "path": "ChatDemoStack/BasicLambdaRole/ImportBasicLambdaRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.172.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "ChatDemoStack/BasicLambdaRole/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "lambda.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "managedPolicyArns": [
                      "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                  "version": "2.172.0"
                }
              },
              "DefaultPolicy": {
                "id": "DefaultPolicy",
                "path": "ChatDemoStack/BasicLambdaRole/DefaultPolicy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "ChatDemoStack/BasicLambdaRole/DefaultPolicy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                      "aws:cdk:cloudformation:props": {
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": [
                                "dynamodb:BatchGetItem",
                                "dynamodb:BatchWriteItem",
                                "dynamodb:ConditionCheckItem",
                                "dynamodb:DeleteItem",
                                "dynamodb:DescribeTable",
                                "dynamodb:GetItem",
                                "dynamodb:GetRecords",
                                "dynamodb:GetShardIterator",
                                "dynamodb:PutItem",
                                "dynamodb:Query",
                                "dynamodb:Scan",
                                "dynamodb:UpdateItem"
                              ],
                              "Effect": "Allow",
                              "Resource": [
                                {
                                  "Fn::GetAtt": [
                                    "SessionTableA016F679",
                                    "Arn"
                                  ]
                                },
                                {
                                  "Ref": "AWS::NoValue"
                                }
                              ]
                            },
                            {
                              "Action": "lambda:InvokeFunction",
                              "Effect": "Allow",
                              "Resource": [
                                {
                                  "Fn::GetAtt": [
                                    "PythonLambda2C2BA927",
                                    "Arn"
                                  ]
                                },
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      {
                                        "Fn::GetAtt": [
                                          "PythonLambda2C2BA927",
                                          "Arn"
                                        ]
                                      },
                                      ":*"
                                    ]
                                  ]
                                }
                              ]
                            },
                            {
                              "Action": [
                                "bedrock:InvokeModel",
                                "bedrock:InvokeModelWithResponseStream"
                              ],
                              "Effect": "Allow",
                              "Resource": {
                                "Fn::Join": [
                                  "",
                                  [
                                    "arn:aws:bedrock:",
                                    {
                                      "Ref": "AWS::Region"
                                    },
                                    "::foundation-model/*"
                                  ]
                                ]
                              }
                            },
                            {
                              "Action": [
                                "bedrock:Retrieve",
                                "bedrock:RetrieveAndGenerate"
                              ],
                              "Effect": "Allow",
                              "Resource": [
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:",
                                      {
                                        "Ref": "AWS::Partition"
                                      },
                                      ":bedrock:",
                                      {
                                        "Ref": "AWS::Region"
                                      },
                                      ":",
                                      {
                                        "Ref": "AWS::AccountId"
                                      },
                                      ":knowledge-base/",
                                      {
                                        "Fn::GetAtt": [
                                          "MutiAgentOrchestratorDocKbKnowledgeBase1C8136A3",
                                          "KnowledgeBaseId"
                                        ]
                                      }
                                    ]
                                  ]
                                },
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:aws:bedrock:",
                                      {
                                        "Ref": "AWS::Region"
                                      },
                                      "::foundation-model/*"
                                    ]
                                  ]
                                }
                              ],
                              "Sid": "AmazonBedrockKbPermission"
                            },
                            {
                              "Action": "lex:RecognizeText",
                              "Effect": "Allow",
                              "Resource": [
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:aws:bedrock:",
                                      {
                                        "Ref": "AWS::Region"
                                      },
                                      "::foundation-model/*"
                                    ]
                                  ]
                                },
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:aws:lex:",
                                      {
                                        "Ref": "AWS::Region"
                                      },
                                      ":",
                                      {
                                        "Ref": "AWS::AccountId"
                                      },
                                      ":bot-alias/",
                                      {
                                        "Fn::GetAtt": [
                                          "InvokeLexImportFunction",
                                          "bot_id"
                                        ]
                                      },
                                      "/",
                                      {
                                        "Fn::GetAtt": [
                                          "InvokeLexImportFunction",
                                          "bot_alias_id"
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ],
                              "Sid": "LexPermission"
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "policyName": "BasicLambdaRoleDefaultPolicy19DE87B1",
                        "roles": [
                          {
                            "Ref": "BasicLambdaRole2937C09E"
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Policy",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Role",
              "version": "2.172.0"
            }
          },
          "basicLambdaRoleAWSLambdaBasicExecutionRole": {
            "id": "basicLambdaRoleAWSLambdaBasicExecutionRole",
            "path": "ChatDemoStack/basicLambdaRoleAWSLambdaBasicExecutionRole",
            "constructInfo": {
              "fqn": "aws-cdk-lib.Resource",
              "version": "2.172.0"
            }
          },
          "SessionTable": {
            "id": "SessionTable",
            "path": "ChatDemoStack/SessionTable",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "ChatDemoStack/SessionTable/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::DynamoDB::Table",
                  "aws:cdk:cloudformation:props": {
                    "attributeDefinitions": [
                      {
                        "attributeName": "PK",
                        "attributeType": "S"
                      },
                      {
                        "attributeName": "SK",
                        "attributeType": "S"
                      }
                    ],
                    "billingMode": "PAY_PER_REQUEST",
                    "keySchema": [
                      {
                        "attributeName": "PK",
                        "keyType": "HASH"
                      },
                      {
                        "attributeName": "SK",
                        "keyType": "RANGE"
                      }
                    ],
                    "timeToLiveSpecification": {
                      "attributeName": "TTL",
                      "enabled": true
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_dynamodb.CfnTable",
                  "version": "2.172.0"
                }
              },
              "ScalingRole": {
                "id": "ScalingRole",
                "path": "ChatDemoStack/SessionTable/ScalingRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_dynamodb.Table",
              "version": "2.172.0"
            }
          },
          "PythonLambda": {
            "id": "PythonLambda",
            "path": "ChatDemoStack/PythonLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "ChatDemoStack/PythonLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "ChatDemoStack/PythonLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "ChatDemoStack/PythonLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.172.0"
                }
              },
              "Code": {
                "id": "Code",
                "path": "ChatDemoStack/PythonLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "ChatDemoStack/PythonLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.172.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "ChatDemoStack/PythonLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.172.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "ChatDemoStack/PythonLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                      "s3Key": "58e25da5585fb2ff5b16417c333c93fc4d38fb9f58f9ed7a4c08054a8a94c8ef.zip"
                    },
                    "handler": "lambda.lambda_handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "PythonLambdaServiceRole3DE0935D",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.12",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.172.0"
            }
          },
          "MultiAgentLambda": {
            "id": "MultiAgentLambda",
            "path": "ChatDemoStack/MultiAgentLambda",
            "children": {
              "Code": {
                "id": "Code",
                "path": "ChatDemoStack/MultiAgentLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "ChatDemoStack/MultiAgentLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.172.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "ChatDemoStack/MultiAgentLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.172.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "ChatDemoStack/MultiAgentLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                      "s3Key": "f6666b1fdfa98a362acf7491ee683ec7e8b8566b73caa8d49ef2ba03a39b2ff2.zip"
                    },
                    "environment": {
                      "variables": {
                        "POWERTOOLS_SERVICE_NAME": "multi-agent",
                        "POWERTOOLS_LOG_LEVEL": "DEBUG",
                        "HISTORY_TABLE_NAME": {
                          "Ref": "SessionTableA016F679"
                        },
                        "HISTORY_TABLE_TTL_KEY_NAME": "TTL",
                        "HISTORY_TABLE_TTL_DURATION": "3600",
                        "LEX_AGENT_ENABLED": "true",
                        "LEX_AGENT_CONFIG": {
                          "Fn::Join": [
                            "",
                            [
                              "{\"botId\":\"",
                              {
                                "Fn::GetAtt": [
                                  "InvokeLexImportFunction",
                                  "bot_id"
                                ]
                              },
                              "\",\"botAliasId\":\"",
                              {
                                "Fn::GetAtt": [
                                  "InvokeLexImportFunction",
                                  "bot_alias_id"
                                ]
                              },
                              "\",\"localeId\":\"en_US\",\"description\":\"Helps users book and manage their flight reservation\",\"name\":\"",
                              {
                                "Ref": "BotName"
                              },
                              "\"}"
                            ]
                          ]
                        },
                        "KNOWLEDGE_BASE_ID": {
                          "Fn::GetAtt": [
                            "MutiAgentOrchestratorDocKbKnowledgeBase1C8136A3",
                            "KnowledgeBaseId"
                          ]
                        },
                        "LAMBDA_AGENTS": {
                          "Fn::Join": [
                            "",
                            [
                              "[{\"description\":\"This is an Agent to use when you forgot about your own name\",\"name\":\"Find my name\",\"functionName\":\"",
                              {
                                "Ref": "PythonLambda2C2BA927"
                              },
                              "\",\"region\":\"",
                              {
                                "Ref": "AWS::Region"
                              },
                              "\"}]"
                            ]
                          ]
                        }
                      }
                    },
                    "handler": "index.handler",
                    "layers": [
                      "arn:aws:lambda:us-east-1:094274105915:layer:AWSLambdaPowertoolsTypeScriptV2:2"
                    ],
                    "memorySize": 2048,
                    "role": {
                      "Fn::GetAtt": [
                        "BasicLambdaRole2937C09E",
                        "Arn"
                      ]
                    },
                    "runtime": "nodejs20.x",
                    "timeout": 300
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.172.0"
                }
              },
              "FunctionUrl": {
                "id": "FunctionUrl",
                "path": "ChatDemoStack/MultiAgentLambda/FunctionUrl",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "ChatDemoStack/MultiAgentLambda/FunctionUrl/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Url",
                      "aws:cdk:cloudformation:props": {
                        "authType": "AWS_IAM",
                        "invokeMode": "RESPONSE_STREAM",
                        "targetFunctionArn": {
                          "Fn::GetAtt": [
                            "MultiAgentLambda903F39F0",
                            "Arn"
                          ]
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnUrl",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.FunctionUrl",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda_nodejs.NodejsFunction",
              "version": "2.172.0"
            }
          },
          "CDKMetadata": {
            "id": "CDKMetadata",
            "path": "ChatDemoStack/CDKMetadata",
            "children": {
              "Default": {
                "id": "Default",
                "path": "ChatDemoStack/CDKMetadata/Default",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.3.0"
            }
          },
          "Exports": {
            "id": "Exports",
            "path": "ChatDemoStack/Exports",
            "children": {
              "Output{\"Fn::GetAtt\":[\"MultiAgentLambdaFunctionUrl963F48F0\",\"FunctionUrl\"]}": {
                "id": "Output{\"Fn::GetAtt\":[\"MultiAgentLambdaFunctionUrl963F48F0\",\"FunctionUrl\"]}",
                "path": "ChatDemoStack/Exports/Output{\"Fn::GetAtt\":[\"MultiAgentLambdaFunctionUrl963F48F0\",\"FunctionUrl\"]}",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnOutput",
                  "version": "2.172.0"
                }
              },
              "Output{\"Fn::GetAtt\":[\"MultiAgentLambdaFunctionUrl963F48F0\",\"FunctionArn\"]}": {
                "id": "Output{\"Fn::GetAtt\":[\"MultiAgentLambdaFunctionUrl963F48F0\",\"FunctionArn\"]}",
                "path": "ChatDemoStack/Exports/Output{\"Fn::GetAtt\":[\"MultiAgentLambdaFunctionUrl963F48F0\",\"FunctionArn\"]}",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnOutput",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.3.0"
            }
          },
          "BootstrapVersion": {
            "id": "BootstrapVersion",
            "path": "ChatDemoStack/BootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.172.0"
            }
          },
          "CheckBootstrapVersion": {
            "id": "CheckBootstrapVersion",
            "path": "ChatDemoStack/CheckBootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnRule",
              "version": "2.172.0"
            }
          }
        },
        "constructInfo": {
          "fqn": "aws-cdk-lib.Stack",
          "version": "2.172.0"
        }
      },
      "UserInterfaceStack": {
        "id": "UserInterfaceStack",
        "path": "UserInterfaceStack",
        "children": {
          "WebsiteBucket": {
            "id": "WebsiteBucket",
            "path": "UserInterfaceStack/WebsiteBucket",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "UserInterfaceStack/WebsiteBucket/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::S3::Bucket",
                  "aws:cdk:cloudformation:props": {
                    "bucketEncryption": {
                      "serverSideEncryptionConfiguration": [
                        {
                          "serverSideEncryptionByDefault": {
                            "sseAlgorithm": "AES256"
                          }
                        }
                      ]
                    },
                    "publicAccessBlockConfiguration": {
                      "blockPublicAcls": true,
                      "blockPublicPolicy": true,
                      "ignorePublicAcls": true,
                      "restrictPublicBuckets": true
                    },
                    "tags": [
                      {
                        "key": "aws-cdk:cr-owned:43fa0b05",
                        "value": "true"
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.CfnBucket",
                  "version": "2.172.0"
                }
              },
              "Policy": {
                "id": "Policy",
                "path": "UserInterfaceStack/WebsiteBucket/Policy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "UserInterfaceStack/WebsiteBucket/Policy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::S3::BucketPolicy",
                      "aws:cdk:cloudformation:props": {
                        "bucket": {
                          "Ref": "WebsiteBucket75C24D94"
                        },
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": "s3:*",
                              "Condition": {
                                "Bool": {
                                  "aws:SecureTransport": "false"
                                }
                              },
                              "Effect": "Deny",
                              "Principal": {
                                "AWS": "*"
                              },
                              "Resource": [
                                {
                                  "Fn::GetAtt": [
                                    "WebsiteBucket75C24D94",
                                    "Arn"
                                  ]
                                },
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      {
                                        "Fn::GetAtt": [
                                          "WebsiteBucket75C24D94",
                                          "Arn"
                                        ]
                                      },
                                      "/*"
                                    ]
                                  ]
                                }
                              ]
                            },
                            {
                              "Action": "s3:GetObject",
                              "Effect": "Allow",
                              "Principal": {
                                "CanonicalUser": {
                                  "Fn::GetAtt": [
                                    "DistributionOrigin1S3Origin5F5C0696",
                                    "S3CanonicalUserId"
                                  ]
                                }
                              },
                              "Resource": {
                                "Fn::Join": [
                                  "",
                                  [
                                    {
                                      "Fn::GetAtt": [
                                        "WebsiteBucket75C24D94",
                                        "Arn"
                                      ]
                                    },
                                    "/*"
                                  ]
                                ]
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.CfnBucketPolicy",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.BucketPolicy",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_s3.Bucket",
              "version": "2.172.0"
            }
          },
          "ResponseHeadersPolicy": {
            "id": "ResponseHeadersPolicy",
            "path": "UserInterfaceStack/ResponseHeadersPolicy",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "UserInterfaceStack/ResponseHeadersPolicy/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::CloudFront::ResponseHeadersPolicy",
                  "aws:cdk:cloudformation:props": {
                    "responseHeadersPolicyConfig": {
                      "name": {
                        "Fn::Join": [
                          "",
                          [
                            "ResponseHeadersPolicy",
                            {
                              "Ref": "AWS::StackName"
                            },
                            "-",
                            {
                              "Ref": "AWS::Region"
                            }
                          ]
                        ]
                      },
                      "comment": {
                        "Fn::Join": [
                          "",
                          [
                            "ResponseHeadersPolicy",
                            {
                              "Ref": "AWS::StackName"
                            },
                            "-",
                            {
                              "Ref": "AWS::Region"
                            }
                          ]
                        ]
                      },
                      "securityHeadersConfig": {
                        "contentTypeOptions": {
                          "override": true
                        },
                        "frameOptions": {
                          "frameOption": "DENY",
                          "override": true
                        },
                        "referrerPolicy": {
                          "referrerPolicy": "strict-origin-when-cross-origin",
                          "override": false
                        },
                        "strictTransportSecurity": {
                          "accessControlMaxAge": {
                            "amount": 31536000,
                            "unit": {
                              "label": "seconds",
                              "isoLabel": "S",
                              "inMillis": 1000
                            }
                          },
                          "includeSubdomains": true,
                          "override": true,
                          "accessControlMaxAgeSec": 31536000
                        },
                        "xssProtection": {
                          "protection": true,
                          "modeBlock": true,
                          "override": true
                        }
                      }
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudfront.CfnResponseHeadersPolicy",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_cloudfront.ResponseHeadersPolicy",
              "version": "2.172.0"
            }
          },
          "Distribution": {
            "id": "Distribution",
            "path": "UserInterfaceStack/Distribution",
            "children": {
              "Origin1": {
                "id": "Origin1",
                "path": "UserInterfaceStack/Distribution/Origin1",
                "children": {
                  "S3Origin": {
                    "id": "S3Origin",
                    "path": "UserInterfaceStack/Distribution/Origin1/S3Origin",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "UserInterfaceStack/Distribution/Origin1/S3Origin/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
                          "aws:cdk:cloudformation:props": {
                            "cloudFrontOriginAccessIdentityConfig": {
                              "comment": "Identity for UserInterfaceStackDistributionOrigin1BFC00817"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cloudfront.OriginAccessIdentity",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "constructs.Construct",
                  "version": "10.3.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "UserInterfaceStack/Distribution/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::CloudFront::Distribution",
                  "aws:cdk:cloudformation:props": {
                    "distributionConfig": {
                      "enabled": true,
                      "origins": [
                        {
                          "domainName": {
                            "Fn::GetAtt": [
                              "WebsiteBucket75C24D94",
                              "RegionalDomainName"
                            ]
                          },
                          "id": "UserInterfaceStackDistributionOrigin1BFC00817",
                          "s3OriginConfig": {
                            "originAccessIdentity": {
                              "Fn::Join": [
                                "",
                                [
                                  "origin-access-identity/cloudfront/",
                                  {
                                    "Ref": "DistributionOrigin1S3Origin5F5C0696"
                                  }
                                ]
                              ]
                            }
                          }
                        },
                        {
                          "domainName": {
                            "Fn::Select": [
                              2,
                              {
                                "Fn::Split": [
                                  "/",
                                  {
                                    "Fn::ImportValue": "ChatDemoStack:ExportsOutputFnGetAttMultiAgentLambdaFunctionUrl963F48F0FunctionUrlE48871FA"
                                  }
                                ]
                              }
                            ]
                          },
                          "id": "UserInterfaceStackDistributionOrigin269526127",
                          "customOriginConfig": {
                            "originSslProtocols": [
                              "TLSv1.2"
                            ],
                            "originProtocolPolicy": "https-only"
                          }
                        }
                      ],
                      "defaultCacheBehavior": {
                        "pathPattern": "*",
                        "targetOriginId": "UserInterfaceStackDistributionOrigin1BFC00817",
                        "allowedMethods": [
                          "GET",
                          "HEAD",
                          "OPTIONS",
                          "PUT",
                          "PATCH",
                          "POST",
                          "DELETE"
                        ],
                        "cachePolicyId": "4135ea2d-6df8-44a3-9df3-4b5a84be39ad",
                        "compress": true,
                        "responseHeadersPolicyId": {
                          "Ref": "ResponseHeadersPolicy13DBF9E0"
                        },
                        "viewerProtocolPolicy": "redirect-to-https"
                      },
                      "cacheBehaviors": [
                        {
                          "pathPattern": "/chat/*",
                          "targetOriginId": "UserInterfaceStackDistributionOrigin269526127",
                          "allowedMethods": [
                            "GET",
                            "HEAD",
                            "OPTIONS",
                            "PUT",
                            "PATCH",
                            "POST",
                            "DELETE"
                          ],
                          "cachePolicyId": {
                            "Ref": "CachingDisabledButWithAuthC8989721"
                          },
                          "compress": true,
                          "originRequestPolicyId": "59781a5b-3903-41f3-afcb-af62929ccde1",
                          "responseHeadersPolicyId": "eaab4381-ed33-4a86-88ca-d9558dc6cd63",
                          "viewerProtocolPolicy": "https-only",
                          "lambdaFunctionAssociations": [
                            {
                              "lambdaFunctionArn": {
                                "Ref": "AuthFunctionAtEdgeFnCurrentVersionB8373C0A3183884e745abeddad54a698e8d59146"
                              },
                              "eventType": "origin-request",
                              "includeBody": true
                            }
                          ]
                        }
                      ],
                      "comment": "Multi agent orchestrator demo app",
                      "defaultRootObject": "index.html",
                      "httpVersion": "http2and3",
                      "ipv6Enabled": true
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudfront.CfnDistribution",
                  "version": "2.172.0"
                }
              },
              "Origin2": {
                "id": "Origin2",
                "path": "UserInterfaceStack/Distribution/Origin2",
                "constructInfo": {
                  "fqn": "constructs.Construct",
                  "version": "10.3.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_cloudfront.Distribution",
              "version": "2.172.0"
            }
          },
          "UserPool": {
            "id": "UserPool",
            "path": "UserInterfaceStack/UserPool",
            "children": {
              "smsRole": {
                "id": "smsRole",
                "path": "UserInterfaceStack/UserPool/smsRole",
                "children": {
                  "ImportsmsRole": {
                    "id": "ImportsmsRole",
                    "path": "UserInterfaceStack/UserPool/smsRole/ImportsmsRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "UserInterfaceStack/UserPool/smsRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Condition": {
                                "StringEquals": {
                                  "sts:ExternalId": "UserInterfaceStackUserPool87A22D37"
                                }
                              },
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "cognito-idp.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "policies": [
                          {
                            "policyName": "sns-publish",
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "sns:Publish",
                                  "Effect": "Allow",
                                  "Resource": "*"
                                }
                              ],
                              "Version": "2012-10-17"
                            }
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.172.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "UserInterfaceStack/UserPool/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Cognito::UserPool",
                  "aws:cdk:cloudformation:props": {
                    "accountRecoverySetting": {
                      "recoveryMechanisms": [
                        {
                          "name": "verified_phone_number",
                          "priority": 1
                        },
                        {
                          "name": "verified_email",
                          "priority": 2
                        }
                      ]
                    },
                    "adminCreateUserConfig": {
                      "allowAdminCreateUserOnly": true
                    },
                    "autoVerifiedAttributes": [
                      "email",
                      "phone_number"
                    ],
                    "emailVerificationMessage": "The verification code to your new account is {####}",
                    "emailVerificationSubject": "Verify your new account",
                    "smsConfiguration": {
                      "externalId": "UserInterfaceStackUserPool87A22D37",
                      "snsCallerArn": {
                        "Fn::GetAtt": [
                          "UserPoolsmsRole4EA729DD",
                          "Arn"
                        ]
                      }
                    },
                    "smsVerificationMessage": "The verification code to your new account is {####}",
                    "usernameAttributes": [
                      "email"
                    ],
                    "verificationMessageTemplate": {
                      "defaultEmailOption": "CONFIRM_WITH_CODE",
                      "emailMessage": "The verification code to your new account is {####}",
                      "emailSubject": "Verify your new account",
                      "smsMessage": "The verification code to your new account is {####}"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cognito.CfnUserPool",
                  "version": "2.172.0"
                }
              },
              "UserPoolClient": {
                "id": "UserPoolClient",
                "path": "UserInterfaceStack/UserPool/UserPoolClient",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "UserInterfaceStack/UserPool/UserPoolClient/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Cognito::UserPoolClient",
                      "aws:cdk:cloudformation:props": {
                        "allowedOAuthFlows": [
                          "implicit",
                          "code"
                        ],
                        "allowedOAuthFlowsUserPoolClient": true,
                        "allowedOAuthScopes": [
                          "profile",
                          "phone",
                          "email",
                          "openid",
                          "aws.cognito.signin.user.admin"
                        ],
                        "callbackUrLs": [
                          "https://example.com"
                        ],
                        "explicitAuthFlows": [
                          "ALLOW_USER_PASSWORD_AUTH",
                          "ALLOW_ADMIN_USER_PASSWORD_AUTH",
                          "ALLOW_USER_SRP_AUTH",
                          "ALLOW_REFRESH_TOKEN_AUTH"
                        ],
                        "generateSecret": false,
                        "supportedIdentityProviders": [
                          "COGNITO"
                        ],
                        "userPoolId": {
                          "Ref": "UserPool6BA7E5F2"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cognito.CfnUserPoolClient",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cognito.UserPoolClient",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_cognito.UserPool",
              "version": "2.172.0"
            }
          },
          "IdentityPool": {
            "id": "IdentityPool",
            "path": "UserInterfaceStack/IdentityPool",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "UserInterfaceStack/IdentityPool/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Cognito::IdentityPool",
                  "aws:cdk:cloudformation:props": {
                    "allowUnauthenticatedIdentities": false,
                    "cognitoIdentityProviders": [
                      {
                        "clientId": {
                          "Ref": "UserPoolUserPoolClient40176907"
                        },
                        "providerName": {
                          "Fn::Join": [
                            "",
                            [
                              "cognito-idp.us-east-1.",
                              {
                                "Ref": "AWS::URLSuffix"
                              },
                              "/",
                              {
                                "Ref": "UserPool6BA7E5F2"
                              }
                            ]
                          ]
                        },
                        "serverSideTokenCheck": true
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cognito.CfnIdentityPool",
                  "version": "2.172.0"
                }
              },
              "AuthenticatedRole": {
                "id": "AuthenticatedRole",
                "path": "UserInterfaceStack/IdentityPool/AuthenticatedRole",
                "children": {
                  "ImportAuthenticatedRole": {
                    "id": "ImportAuthenticatedRole",
                    "path": "UserInterfaceStack/IdentityPool/AuthenticatedRole/ImportAuthenticatedRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "UserInterfaceStack/IdentityPool/AuthenticatedRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRoleWithWebIdentity",
                              "Condition": {
                                "StringEquals": {
                                  "cognito-identity.amazonaws.com:aud": {
                                    "Ref": "IdentityPoolEC8A1A0D"
                                  }
                                },
                                "ForAnyValue:StringLike": {
                                  "cognito-identity.amazonaws.com:amr": "authenticated"
                                }
                              },
                              "Effect": "Allow",
                              "Principal": {
                                "Federated": "cognito-identity.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "description": {
                          "Fn::Join": [
                            "",
                            [
                              "Default Authenticated Role for Identity Pool ",
                              {
                                "Fn::GetAtt": [
                                  "IdentityPoolEC8A1A0D",
                                  "Name"
                                ]
                              }
                            ]
                          ]
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.172.0"
                }
              },
              "UnauthenticatedRole": {
                "id": "UnauthenticatedRole",
                "path": "UserInterfaceStack/IdentityPool/UnauthenticatedRole",
                "children": {
                  "ImportUnauthenticatedRole": {
                    "id": "ImportUnauthenticatedRole",
                    "path": "UserInterfaceStack/IdentityPool/UnauthenticatedRole/ImportUnauthenticatedRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "UserInterfaceStack/IdentityPool/UnauthenticatedRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRoleWithWebIdentity",
                              "Condition": {
                                "StringEquals": {
                                  "cognito-identity.amazonaws.com:aud": {
                                    "Ref": "IdentityPoolEC8A1A0D"
                                  }
                                },
                                "ForAnyValue:StringLike": {
                                  "cognito-identity.amazonaws.com:amr": "unauthenticated"
                                }
                              },
                              "Effect": "Allow",
                              "Principal": {
                                "Federated": "cognito-identity.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "description": {
                          "Fn::Join": [
                            "",
                            [
                              "Default Unauthenticated Role for Identity Pool ",
                              {
                                "Fn::GetAtt": [
                                  "IdentityPoolEC8A1A0D",
                                  "Name"
                                ]
                              }
                            ]
                          ]
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.172.0"
                }
              },
              "DefaultRoleAttachment": {
                "id": "DefaultRoleAttachment",
                "path": "UserInterfaceStack/IdentityPool/DefaultRoleAttachment",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "UserInterfaceStack/IdentityPool/DefaultRoleAttachment/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Cognito::IdentityPoolRoleAttachment",
                      "aws:cdk:cloudformation:props": {
                        "identityPoolId": {
                          "Ref": "IdentityPoolEC8A1A0D"
                        },
                        "roles": {
                          "authenticated": {
                            "Fn::GetAtt": [
                              "IdentityPoolAuthenticatedRole42131CF5",
                              "Arn"
                            ]
                          },
                          "unauthenticated": {
                            "Fn::GetAtt": [
                              "IdentityPoolUnauthenticatedRole68AEFF8B",
                              "Arn"
                            ]
                          }
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cognito.CfnIdentityPoolRoleAttachment",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "@aws-cdk/aws-cognito-identitypool-alpha.IdentityPoolRoleAttachment",
                  "version": "2.158.0-alpha.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "@aws-cdk/aws-cognito-identitypool-alpha.IdentityPool",
              "version": "2.158.0-alpha.0"
            }
          },
          "AuthFunctionAtEdge": {
            "id": "AuthFunctionAtEdge",
            "path": "UserInterfaceStack/AuthFunctionAtEdge",
            "children": {
              "Fn": {
                "id": "Fn",
                "path": "UserInterfaceStack/AuthFunctionAtEdge/Fn",
                "children": {
                  "ServiceRole": {
                    "id": "ServiceRole",
                    "path": "UserInterfaceStack/AuthFunctionAtEdge/Fn/ServiceRole",
                    "children": {
                      "ImportServiceRole": {
                        "id": "ImportServiceRole",
                        "path": "UserInterfaceStack/AuthFunctionAtEdge/Fn/ServiceRole/ImportServiceRole",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.Resource",
                          "version": "2.172.0"
                        }
                      },
                      "Resource": {
                        "id": "Resource",
                        "path": "UserInterfaceStack/AuthFunctionAtEdge/Fn/ServiceRole/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                          "aws:cdk:cloudformation:props": {
                            "assumeRolePolicyDocument": {
                              "Statement": [
                                {
                                  "Action": "sts:AssumeRole",
                                  "Effect": "Allow",
                                  "Principal": {
                                    "Service": [
                                      "edgelambda.amazonaws.com",
                                      "lambda.amazonaws.com"
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "managedPolicyArns": [
                              {
                                "Fn::Join": [
                                  "",
                                  [
                                    "arn:",
                                    {
                                      "Ref": "AWS::Partition"
                                    },
                                    ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                                  ]
                                ]
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                          "version": "2.172.0"
                        }
                      },
                      "DefaultPolicy": {
                        "id": "DefaultPolicy",
                        "path": "UserInterfaceStack/AuthFunctionAtEdge/Fn/ServiceRole/DefaultPolicy",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "UserInterfaceStack/AuthFunctionAtEdge/Fn/ServiceRole/DefaultPolicy/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                              "aws:cdk:cloudformation:props": {
                                "policyDocument": {
                                  "Statement": [
                                    {
                                      "Action": "secretsmanager:GetSecretValue",
                                      "Effect": "Allow",
                                      "Resource": "arn:aws:secretsmanager:us-east-1:381491977884:secret:UserPoolSecret*"
                                    },
                                    {
                                      "Action": "lambda:InvokeFunctionUrl",
                                      "Condition": {
                                        "StringEquals": {
                                          "lambda:FunctionUrlAuthType": "AWS_IAM"
                                        }
                                      },
                                      "Effect": "Allow",
                                      "Resource": {
                                        "Fn::ImportValue": "ChatDemoStack:ExportsOutputFnGetAttMultiAgentLambdaFunctionUrl963F48F0FunctionArnCD9CF099"
                                      },
                                      "Sid": "AllowInvokeFunctionUrl"
                                    }
                                  ],
                                  "Version": "2012-10-17"
                                },
                                "policyName": "AuthFunctionAtEdgeFnServiceRoleDefaultPolicy60F68888",
                                "roles": [
                                  {
                                    "Ref": "AuthFunctionAtEdgeFnServiceRoleD2D5A4CA"
                                  }
                                ]
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                              "version": "2.172.0"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.Policy",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Role",
                      "version": "2.172.0"
                    }
                  },
                  "Code": {
                    "id": "Code",
                    "path": "UserInterfaceStack/AuthFunctionAtEdge/Fn/Code",
                    "children": {
                      "Stage": {
                        "id": "Stage",
                        "path": "UserInterfaceStack/AuthFunctionAtEdge/Fn/Code/Stage",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.AssetStaging",
                          "version": "2.172.0"
                        }
                      },
                      "AssetBucket": {
                        "id": "AssetBucket",
                        "path": "UserInterfaceStack/AuthFunctionAtEdge/Fn/Code/AssetBucket",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "UserInterfaceStack/AuthFunctionAtEdge/Fn/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                      "aws:cdk:cloudformation:props": {
                        "code": {
                          "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                          "s3Key": "6369ae828d30394b04197dcd4ac0f9d50c9b823b241e9ebe9e86adc6dbf199ce.zip"
                        },
                        "handler": "index.handler",
                        "role": {
                          "Fn::GetAtt": [
                            "AuthFunctionAtEdgeFnServiceRoleD2D5A4CA",
                            "Arn"
                          ]
                        },
                        "runtime": "nodejs20.x"
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                      "version": "2.172.0"
                    }
                  },
                  "CurrentVersion": {
                    "id": "CurrentVersion",
                    "path": "UserInterfaceStack/AuthFunctionAtEdge/Fn/CurrentVersion",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "UserInterfaceStack/AuthFunctionAtEdge/Fn/CurrentVersion/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::Lambda::Version",
                          "aws:cdk:cloudformation:props": {
                            "functionName": {
                              "Ref": "AuthFunctionAtEdgeFnF03CD0AF"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_lambda.CfnVersion",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.Version",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.Function",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_cloudfront.experimental.EdgeFunction",
              "version": "2.172.0"
            }
          },
          "CachingDisabledButWithAuth": {
            "id": "CachingDisabledButWithAuth",
            "path": "UserInterfaceStack/CachingDisabledButWithAuth",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "UserInterfaceStack/CachingDisabledButWithAuth/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::CloudFront::CachePolicy",
                  "aws:cdk:cloudformation:props": {
                    "cachePolicyConfig": {
                      "name": "UserInterfaceStackCachingDisabledButWithAuth29533799-us-east-1",
                      "minTtl": 0,
                      "maxTtl": 60,
                      "defaultTtl": 0,
                      "parametersInCacheKeyAndForwardedToOrigin": {
                        "cookiesConfig": {
                          "cookieBehavior": "none"
                        },
                        "headersConfig": {
                          "headerBehavior": "whitelist",
                          "headers": [
                            "Authorization"
                          ]
                        },
                        "enableAcceptEncodingGzip": false,
                        "enableAcceptEncodingBrotli": false,
                        "queryStringsConfig": {
                          "queryStringBehavior": "none"
                        }
                      }
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudfront.CfnCachePolicy",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_cloudfront.CachePolicy",
              "version": "2.172.0"
            }
          },
          "UserPoolSecret": {
            "id": "UserPoolSecret",
            "path": "UserInterfaceStack/UserPoolSecret",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "UserInterfaceStack/UserPoolSecret/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SecretsManager::Secret",
                  "aws:cdk:cloudformation:props": {
                    "name": "UserPoolSecretConfig",
                    "secretString": {
                      "Fn::Join": [
                        "",
                        [
                          "{\"ClientID\":\"",
                          {
                            "Ref": "UserPoolUserPoolClient40176907"
                          },
                          "\",\"UserPoolID\":\"",
                          {
                            "Ref": "UserPool6BA7E5F2"
                          },
                          "\"}"
                        ]
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_secretsmanager.CfnSecret",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_secretsmanager.Secret",
              "version": "2.172.0"
            }
          },
          "UserInterfaceDeployment": {
            "id": "UserInterfaceDeployment",
            "path": "UserInterfaceStack/UserInterfaceDeployment",
            "children": {
              "AwsCliLayer": {
                "id": "AwsCliLayer",
                "path": "UserInterfaceStack/UserInterfaceDeployment/AwsCliLayer",
                "children": {
                  "Code": {
                    "id": "Code",
                    "path": "UserInterfaceStack/UserInterfaceDeployment/AwsCliLayer/Code",
                    "children": {
                      "Stage": {
                        "id": "Stage",
                        "path": "UserInterfaceStack/UserInterfaceDeployment/AwsCliLayer/Code/Stage",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.AssetStaging",
                          "version": "2.172.0"
                        }
                      },
                      "AssetBucket": {
                        "id": "AssetBucket",
                        "path": "UserInterfaceStack/UserInterfaceDeployment/AwsCliLayer/Code/AssetBucket",
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "UserInterfaceStack/UserInterfaceDeployment/AwsCliLayer/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::LayerVersion",
                      "aws:cdk:cloudformation:props": {
                        "content": {
                          "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                          "s3Key": "eafa2d6c6a55bda16b1603003f1721e2f66a024c0c31d6665ee1c5ff59b565d9.zip"
                        },
                        "description": "/opt/awscli/aws"
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnLayerVersion",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.lambda_layer_awscli.AwsCliLayer",
                  "version": "2.172.0"
                }
              },
              "CustomResourceHandler": {
                "id": "CustomResourceHandler",
                "path": "UserInterfaceStack/UserInterfaceDeployment/CustomResourceHandler",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.SingletonFunction",
                  "version": "2.172.0"
                }
              },
              "Asset1": {
                "id": "Asset1",
                "path": "UserInterfaceStack/UserInterfaceDeployment/Asset1",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "UserInterfaceStack/UserInterfaceDeployment/Asset1/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.172.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "UserInterfaceStack/UserInterfaceDeployment/Asset1/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.172.0"
                }
              },
              "Asset2": {
                "id": "Asset2",
                "path": "UserInterfaceStack/UserInterfaceDeployment/Asset2",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "UserInterfaceStack/UserInterfaceDeployment/Asset2/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.172.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "UserInterfaceStack/UserInterfaceDeployment/Asset2/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.172.0"
                }
              },
              "CustomResource": {
                "id": "CustomResource",
                "path": "UserInterfaceStack/UserInterfaceDeployment/CustomResource",
                "children": {
                  "Default": {
                    "id": "Default",
                    "path": "UserInterfaceStack/UserInterfaceDeployment/CustomResource/Default",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnResource",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CustomResource",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_s3_deployment.BucketDeployment",
              "version": "2.172.0"
            }
          },
          "Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C": {
            "id": "Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C",
            "path": "UserInterfaceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "UserInterfaceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "UserInterfaceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.172.0"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "UserInterfaceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.172.0"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "UserInterfaceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "UserInterfaceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "s3:GetBucket*",
                                    "s3:GetObject*",
                                    "s3:List*"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    "arn:aws:s3:::cdk-hnb659fds-assets-381491977884-us-east-1",
                                    "arn:aws:s3:::cdk-hnb659fds-assets-381491977884-us-east-1/*"
                                  ]
                                },
                                {
                                  "Action": [
                                    "s3:Abort*",
                                    "s3:DeleteObject*",
                                    "s3:GetBucket*",
                                    "s3:GetObject*",
                                    "s3:List*",
                                    "s3:PutObject",
                                    "s3:PutObjectLegalHold",
                                    "s3:PutObjectRetention",
                                    "s3:PutObjectTagging",
                                    "s3:PutObjectVersionTagging"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "WebsiteBucket75C24D94",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "WebsiteBucket75C24D94",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "cloudfront:CreateInvalidation",
                                    "cloudfront:GetInvalidation"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": "*"
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
                            "roles": [
                              {
                                "Ref": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.172.0"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.172.0"
                }
              },
              "Code": {
                "id": "Code",
                "path": "UserInterfaceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "UserInterfaceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.172.0"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "UserInterfaceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.172.0"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.172.0"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "UserInterfaceStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": "cdk-hnb659fds-assets-381491977884-us-east-1",
                      "s3Key": "c6358465bf49dfae556bb430bf9c81fa578c221b82c308e3707901b1dd654762.zip"
                    },
                    "environment": {
                      "variables": {
                        "AWS_CA_BUNDLE": "/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"
                      }
                    },
                    "handler": "index.handler",
                    "layers": [
                      {
                        "Ref": "UserInterfaceDeploymentAwsCliLayerF2ECCC7C"
                      }
                    ],
                    "role": {
                      "Fn::GetAtt": [
                        "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.11",
                    "timeout": 900
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.172.0"
            }
          },
          "UserInterfaceDomainName": {
            "id": "UserInterfaceDomainName",
            "path": "UserInterfaceStack/UserInterfaceDomainName",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.172.0"
            }
          },
          "CognitoUserPool": {
            "id": "CognitoUserPool",
            "path": "UserInterfaceStack/CognitoUserPool",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.172.0"
            }
          },
          "CDKMetadata": {
            "id": "CDKMetadata",
            "path": "UserInterfaceStack/CDKMetadata",
            "children": {
              "Default": {
                "id": "Default",
                "path": "UserInterfaceStack/CDKMetadata/Default",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.172.0"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.3.0"
            }
          },
          "BootstrapVersion": {
            "id": "BootstrapVersion",
            "path": "UserInterfaceStack/BootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.172.0"
            }
          },
          "CheckBootstrapVersion": {
            "id": "CheckBootstrapVersion",
            "path": "UserInterfaceStack/CheckBootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnRule",
              "version": "2.172.0"
            }
          }
        },
        "constructInfo": {
          "fqn": "aws-cdk-lib.Stack",
          "version": "2.172.0"
        }
      },
      "Tree": {
        "id": "Tree",
        "path": "Tree",
        "constructInfo": {
          "fqn": "constructs.Construct",
          "version": "10.3.0"
        }
      }
    },
    "constructInfo": {
      "fqn": "aws-cdk-lib.App",
      "version": "2.172.0"
    }
  }
}